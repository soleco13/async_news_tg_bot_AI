# Админ-панель для бота @async_news_bot

## Описание

Админ-панель предоставляет интерфейс для управления публикациями в Telegram-канале непосредственно через бота. Панель позволяет просматривать запланированные посты, изменять время их публикации, просматривать статистику и графики публикаций.

## Настройка

1. Добавьте в файл `.env` переменную `ADMIN_IDS` со списком ID администраторов, разделенных запятыми:

```
ADMIN_IDS=123456789,987654321
```

2. Установите необходимые зависимости:

```bash
pip install -r requirements.txt
```

3. Запустите бота:

```bash
python bot.py
```

## Использование

### Доступ к админ-панели

Отправьте команду `/admin` боту. Если ваш ID находится в списке администраторов, вы получите доступ к панели управления.

### Функции админ-панели

1. **Запланированные посты**
   - Просмотр списка постов, ожидающих публикации
   - Просмотр деталей каждого поста
   - Изменение времени публикации
   - Удаление постов из очереди

2. **Статистика публикаций**
   - Общее количество новостей в базе
   - Количество опубликованных новостей
   - Количество новостей в очереди на публикацию
   - Распределение новостей по категориям

3. **График публикаций**
   - Визуализация количества публикаций за последние 30 дней

## Команды бота

- `/start` - Начать работу с ботом
- `/admin` - Открыть админ-панель (только для администраторов)
- `/help` - Показать справку по использованию бота

## Требования

- Python 3.9+
- aiogram 3.0+
- matplotlib
- psycopg2
- Доступ к базе данных PostgreSQL

## Примечания

- Для корректной работы графиков необходимо установить библиотеку matplotlib
- Админ-панель работает только с пользователями, чьи ID указаны в переменной ADMIN_IDS
- Все действия администраторов логируются в файл admin_panel.log